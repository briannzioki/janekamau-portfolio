/* src/app/globals.css */
@import "../styles/tokens.css";
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ---- Base (token-driven) ---- */
:root {
  /* Subtle washes (professional) */
  --wash-1: color-mix(in srgb, var(--primary) 12%, transparent);
  --wash-2: color-mix(in srgb, var(--accent) 10%, transparent);
  --wash-3: color-mix(in srgb, var(--accent-3) 10%, transparent);
}

html, body {
  background: var(--bg);
  color: var(--text);
  min-height: 100%;
}

/* Links inside prose use brand accent via CSS var (no @apply) */
.prose :where(a):not(:where(.not-prose *)) { color: var(--accent); }

/* Subtle noise (unchanged) */
.noise {
  background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'><filter id='n'><feTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/></filter><rect width='100%' height='100%' filter='url(%23n)' opacity='0.05'/></svg>");
}

/* Utilities */
.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* ------------------------------------------------------------------ */
/*  Abstract Art (mesh + orbs) â€” subtle & premium                      */
/* ------------------------------------------------------------------ */

.brand-bg { isolation: isolate; }

/* Mesh layer (slow + subtle drift) */
.bg-mesh {
  background:
    radial-gradient(60% 55% at 10% 10%, var(--wash-1), transparent 62%),
    radial-gradient(55% 60% at 90% 14%, var(--wash-2), transparent 60%),
    radial-gradient(60% 60% at 50% 92%, var(--wash-3), transparent 62%);
  opacity: 0.9;
  animation: bgShift 26s ease-in-out infinite alternate;
  will-change: transform;
  filter: saturate(1.02);
}

/* Orbs (soft presence, no loud blend mode) */
.brand-orb {
  position: absolute;
  width: var(--size, 28vmax);
  height: var(--size, 28vmax);
  border-radius: 9999px;
  background: radial-gradient(closest-side, var(--c), transparent 72%);
  opacity: var(--opacity, 0.10);
  filter: blur(28px);
  transform: translate3d(var(--tx, 0px), var(--ty, 0px), 0);
  animation: float var(--dur, 28s) ease-in-out infinite alternate;
  will-change: transform, filter, opacity;
}

/* Gentle drift */
@keyframes float {
  from { transform: translate3d(calc(var(--tx, 0px) - 10px), calc(var(--ty, 0px) + 8px), 0); }
  to   { transform: translate3d(calc(var(--tx, 0px) + 10px), calc(var(--ty, 0px) - 8px), 0); }
}

/* Small mesh movement */
@keyframes bgShift {
  from { transform: translate3d(0, 0, 0) scale(1.00); }
  to   { transform: translate3d(1.8%, -1.8%, 0) scale(1.03); }
}

/* accessibility */
@media (prefers-reduced-motion: reduce) {
  .bg-mesh,
  .brand-orb { animation: none !important; }
}
